<div class="container">

	<div class="row">

		<div class="col-xs-12 col-md-6 col-md-offset-3">

			<!-- template-driven form: pass directly the form value on method handler -->
			<form #postForm="ngForm" (ngSubmit)="onCreatePost(postForm.value)">

				<div class="form-group">

					<label for="title">
						Title
					</label>

					<!-- post title -->
					<input
						type="text"
						class="form-control"
						id="title"
						required
						ngModel
						name="title"/>

				</div>

				<div class="form-group">

					<label for="content">
						Content
					</label>

					<!-- post content -->
					<textarea
						class="form-control"
						id="content"
						required
						ngModel
						name="content">
					
					</textarea>

				</div>

				<!-- submit button -->
				<button
					class="btn btn-primary"
					type="submit"
					[disabled]="!postForm.valid">
					Send Post
				</button>

			</form>

		</div>

	</div>

	<hr />

	<div class="row">

		<div class="col-xs-12 col-md-6 col-md-offset-3">

			<!-- fetch posts from database -->
			<button class="btn btn-primary" 
					(click)="onFetchPosts()">
				Fetch Posts
			</button>

			|

			<!-- clear posts on template -->
			<button
				class="btn btn-danger"
				[disabled]="loadedPosts.length < 1"
				(click)="onClearPosts()">
				Clear Posts
			</button>

		</div>

	</div>

	<div class="row">

		<div class="col-xs-12 col-md-6 col-md-offset-3">

			<!-- display this if we dont have fetched posts and if we are not fetching -->
			<p *ngIf="loadedPosts.length < 1 && !isFetching">
				No posts available!
			</p>

			<!-- display this list when we are done fetching -->
			<ul class="list-group"
				*ngIf="loadedPosts.length >= 1 && !isFetching">

				<!-- loop through the posts array -->
				<li class="list-group-item"
					*ngFor="let post of loadedPosts">

					<h1>
						{{ post.title }}
					</h1>

					<p>
						{{ post.content }}
					</p>

				</li>

			</ul>

			<!-- display the loading text while we are fetching -->
			<p *ngIf="isFetching">
				Loading...
			</p>

		</div>

	</div>

</div>
